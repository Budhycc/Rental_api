# Rental API

## Description

A Spring Boot application providing a RESTful API for managing a car rental system. This includes functionalities for managing cars, customers, rental transactions, and users.

## Prerequisites

- Java Development Kit (JDK) - Version 23 or higher (as specified in `pom.xml`)
- Apache Maven - For building and managing dependencies
- MySQL Server - For the application database

## Database Setup

The application requires a MySQL database.

1.  **Ensure MySQL is installed and running.**
2.  **Create a database named `rental`.** You can use a command like:
    ```sql
    CREATE DATABASE rental;
    ```
3.  **Import the database schema and initial data.** The SQL script `db/rental.sql` contains the table structure and some sample data. You can import it using a MySQL client:
    ```bash
    mysql -u your_username -p rental < db/rental.sql
    ```
    Replace `your_username` with your MySQL username. You will be prompted for your password.
4.  **Database Credentials:**
    By default, the application is configured to connect to the `rental` database on `localhost:3306` with the username `root` and an empty password.
    If your MySQL setup differs, you can update the database connection properties in the `src/main/resources/application.properties` file:
    ```properties
    spring.datasource.url=jdbc:mysql://localhost:3306/rental?enabledTLSProtocols=TLSv1.2
    spring.datasource.username=your_username
    spring.datasource.password=your_password
    ```

## Build Instructions

1.  **Clone the repository:**
    ```bash
    git clone <repository-url>
    cd <repository-directory>
    ```
    (Replace `<repository-url>` and `<repository-directory>` with the actual URL and project directory name)

2.  **Build the project using Maven:**
    ```bash
    mvn clean install
    ```
    This command will compile the code, run tests, and package the application.

3.  **Custom Runtime and Application Image:**
    The build process includes steps using `jlink` and `jpackage`:
    *   `jlink`: Creates a custom Java runtime environment, which is stored in `${project.build.directory}/runtime` (usually `target/runtime`).
    *   `jpackage`: Creates a native application image (e.g., an .exe or .dmg installer, or a self-contained folder) using the custom runtime. The output is placed in the `target-dist` directory within the project root.
    This packaged version includes the necessary Java runtime, so users do not need to have Java pre-installed to run it (depending on the `jpackage` output type).

## Running the Application

There are two main ways to run the application:

1.  **Using Maven (for development):**
    After building the project, you can run it directly using the Spring Boot Maven plugin:
    ```bash
    mvn spring-boot:run
    ```
    The application will start, and you should see a message like "SERVER RUNNING" in the console. By default, it usually runs on port 8080.

2.  **Using the Packaged Application:**
    Navigate to the `target-dist` directory created during the build process. Inside, you will find the application image (e.g., an executable or a directory).
    The exact method to run it depends on the type of image generated by `jpackage` on your operating system.
    *   If it's a self-contained directory, there might be a launcher script (e.g., `bin/<application-name>`).
    *   If it's an installer, install it first, then run it like any other installed application.
    Refer to the `jpackage` documentation for more details on the `app-image` type produced.
    The application uses the icon found at `src/main/resources/icon.ico`.

## API Endpoints

The application exposes RESTful API endpoints to manage various aspects of the car rental system. Below are the general base paths for the resources. Standard CRUD operations (GET, POST, PUT, DELETE) are typically available under these paths.

*   **Cars:** `/api/mobil`
*   **Customers:** `/api/pelanggan`
*   **Rentals:** `/api/rental` (Note: The `data_rental` table might be more for linking transactions, customers, and cars rather than direct CRUD on its own via API. Actual endpoints might vary.)
*   **Transactions:** `/api/transaksi`
*   **Users:** `/api/user` (Based on the `user` table)

**Important Note:**
For detailed information on specific endpoint paths (e.g., `/api/mobil/{id}`), supported HTTP methods (GET, POST, PUT, DELETE, etc.), request parameters, and response formats, please refer to the controller classes located in the `src/main/java/com/rental/api/controller` directory (or similar, based on project structure). You may also use tools like Swagger/OpenAPI if integrated into the project for live API documentation.

## Configuration

The primary configuration file for the application is `src/main/resources/application.properties`.

You can modify this file to change settings such as:

*   **Database connection details:**
    *   `spring.datasource.url`
    *   `spring.datasource.username`
    *   `spring.datasource.password`
*   **Server port:**
    *   Add `server.port = <your_port_number>` (e.g., `server.port = 8081`) if you need to change it from the default (usually 8080).
*   **JPA/Hibernate settings:**
    *   `spring.jpa.hibernate.ddl-auto` (e.g., `update`, `validate`, `create`, `create-drop`)
    *   `spring.jpa.show-sql` (e.g., `true` or `false`)
*   **Other Spring Boot properties.**

Refer to the Spring Boot documentation for a comprehensive list of available configuration properties.
